<mujoco model="6dof_robot">
  <option timestep="0.002" gravity="0 0 -9.81" integrator="implicitfast" density="1.225"/>
   <compiler angle="radian" meshdir="parts"/>
  <statistic center="0 1 1" extent="2"/>


  <visual>
    <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0"/>
    <rgba haze="0.15 0.25 0.35 1"/>
    <global azimuth="120" elevation="-20"/>
  </visual>

  <asset>
    <!-- Подключаем файлы геометрии -->
    <mesh name="base_mesh" file="base.stl"/>
    <mesh name="link1_mesh" file="link1.stl"/>
    <mesh name="link2_mesh" file="link2.stl"/>
    <mesh name="link3_mesh" file="link3.stl"/>
    <mesh name="link4_mesh" file="link4.stl"/>
    <mesh name="link5_mesh" file="link5.stl"/>
    <mesh name="link6_mesh" file="link6.stl"/>
    <mesh name="endEffector_mesh" file="endEffector.stl"/>
    
    <!-- Текстура для пола -->
    <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1="0.1 0.2 0.3" rgb2="0.2 0.3 0.4"/>
    <material name="floor_mat" texture="grid" texrepeat="1 1" texuniform="true" reflectance="0.2"/>
  </asset>

  <worldbody>
    
    <!-- Освещение -->
    <light pos="0 0 1.5" dir="0 0 -1" directional="true"/>

     <!-- Пол - плоскость размером 10x10 метров -->
    <geom name="floor" type="plane" size="1 1 0.05" pos="0 0 0" material="floor_mat" rgba="0.5 0.5 0.5 1"/>
   
    <!-- База (закреплена) -->
    <body name="base">
      <geom type="mesh" mesh="base_mesh" name="base_geom"/>


         <!-- Звено 1 -->
        <body name="link1" pos="0 0 0.016">
          <inertial pos="0.00056  0 0.07344" mass="2.896" diaginertia="0.0096036 0.0097093 0.003711 "/>
          <geom type="mesh" mesh="link1_mesh" name="link1_geom"/>

            <!-- Звено 2 -->
          <body name="link2" pos="0 0 0.232">
            <inertial pos="0.0 0.05005 -0.0055" mass="2.164" diaginertia="0.0051147 0.0025546 0.0048539"/>
            <joint name='joint1' range='-3.1415 3.1415' damping="0.5"/>
            <geom type="mesh" mesh="link2_mesh" name="link2_geom"/>


            <!-- Звено 3 -->
            <body name="link3" pos="0 0.1205 0">
              <inertial pos="0 -0.008 0.2127" mass="3.732" diaginertia="0.0651410 0.0635245 0.0040818"/>
              <joint name="joint2" axis='0 1 0' range='-3.1415 3.1415' damping="0.4"/>
              <geom type="mesh" mesh="link3_mesh" name="link3_geom"/>


              <!-- Звено 4 -->
              <body name="link4" pos='0 -0.0975 0.375'>
                <inertial pos="0 0.01117 0.18745" mass="2.821" diaginertia="0.0289611 0.0272949 0.0031766"/>
                <joint name="joint3" type="hinge" range='-2.7925 2.7925' axis='0 1 0' damping="0.6"/>
                <geom type="mesh" mesh="link4_mesh" name="link4_geom"/>


                  <!-- Звено 5 -->
                <body name="link5" pos="0 0.0975 0.295">
                  <inertial pos="0.0 0.00029 0.06847" mass="0.774" diaginertia="0.0017398  0.0017792 0.0003276"/>
                  <joint name="joint4" axis='0 1 0' range='-3.1415 3.1415' damping="0.3"/>
                  <geom type="mesh" mesh="link5_mesh" name="link5_geom"/>




                  <!-- Звено 6 -->
                  <body name="link6" pos='0 0 0.171'>
                    <inertial pos="0 0.03163 -0.00454" mass="0.664" diaginertia="0.0009562 0.0002862 0.0009180"/>
                    <joint name="joint5" range='-3.1415 3.1415' damping="0.5"/>
                    <geom type="mesh" mesh="link6_mesh" name="link6_geom"/>


                      <!-- ендэффектор -->
                    <body name="end-effector" pos='0 0.1225 0'>
                      <inertial pos="0 -0.004132 0.0011" mass="0.176" diaginertia="0.0000699 0.0000853 0.0000677"/>
                      <joint name='joint6' axis='0 1 0' range='-3.1415 3.1415' damping="0.6"/>
                      <geom type="mesh" mesh="endEffector_mesh" name="endeffector"/>

                      <!-- Шар-имитатор нагрузки -->
                      <body name="payload" pos="0 0.01 0"> <!-- смещаем немного от центра ендэффектора -->
                        <inertial mass="0.0001" pos="0 0 0" diaginertia="1.6e-8 1.6e-8 1.6e-8"/>
                        <geom type="sphere" size="0.02" rgba="0.8 0.2 0.2 1"/> <!-- красный шар -->
                      </body>
                    </body>

                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
    </body>
  </worldbody>

<actuator>
  <motor name="act_joint1" joint="joint1"
         gear="1" ctrllimited="true" ctrlrange="-150 150"/>
  <motor name="act_joint2" joint="joint2"
         gear="1" ctrllimited="true" ctrlrange="-120 120"/>
  <motor name="act_joint3" joint="joint3"
         gear="1" ctrllimited="true" ctrlrange="-120 120"/>
  <motor name="act_joint4" joint="joint4"
         gear="1" ctrllimited="true" ctrlrange="-80 80"/>
  <motor name="act_joint5" joint="joint5"
         gear="1" ctrllimited="true" ctrlrange="-60 60"/>
  <motor name="act_joint6" joint="joint6"
         gear="1" ctrllimited="true" ctrlrange="-40 40"/>
</actuator>

</mujoco>
